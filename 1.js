
const template = { "bannerType": "box", "buttonColor": "#214698", "buttonsText": { "acceptAll": "Accept", "moreSettings": "More Settings", "allowNecessary": "Allow Only Necessary", "savePreferences": "Save My Preferences" }, "contentMobile": { "cookieBannerNotice": "This website stores cookies on your computer device. These cookies are used to enhance your browser experience, for analytics on how our website is used, and to assist in our marketing and promotional efforts.", "preferenceManagerNotice": "IDfy's website may request cookies to be set on your device. We use cookies to identify when you visit our sites, to understand your interactions, and to enhance and personalize your experience. Cookies also support social media features and tailor your engagement with IDfy, including delivering more relevant advertisements. You can review the different category headings to learn more and adjust your cookie preferences anytime. Please keep in mind that your choices may affect your experience on our IDfy sites and the quality of services we can provide. Blocking certain types of cookies might affect the functionality and service offerings made available to you." }, "contentDesktop": { "cookieBannerNotice": "This website stores cookies on your computer device. These cookies are used to enhance your browser experience, for analytics on how our website is used, and to assist in our marketing and promotional efforts.", "preferenceManagerNotice": "IDfy's website may request cookies to be set on your device. We use cookies to identify when you visit our sites, to understand your interactions, and to enhance and personalize your experience. Cookies also support social media features and tailor your engagement with IDfy, including delivering more relevant advertisements. You can review the different category headings to learn more and adjust your cookie preferences anytime. Please keep in mind that your choices may affect your experience on our IDfy sites and the quality of services we can provide. Blocking certain types of cookies might affect the functionality and service offerings made available to you." }, "hoverTextColor": "#ffffff", "positionMobile": "bottom", "buttonTextColor": "#ffffff", "positionDesktop": "bottom-right", "hoverButtonColor": "#214699", "preferenceManagerHorizontalPosition": "left" };
const categorizedCookies = { "MARKETING": [{ "meta_data": { "domain": ".youtube.com", "duration": "0 year(s), 5 month(s), 28 day(s)", "expires_at": 1751886617.747968 }, "cookie_id": "36d326ce-3765-4b12-b27a-9c92896e01e2", "category": "MARKETING", "cookie_master_name": "VISITOR_PRIVACY_METADATA", "cookie_master_id": "47ec4c21-3742-4186-a609-d3a851d7c8c0", "languages": { "en": { "language_id": "d4000b55-57fb-42d3-9f49-fa4006286ed0", "name": "VISITOR_PRIVACY_METADATA", "description": "Youtube visitor privacy metadata cookie" } } }, { "meta_data": { "domain": ".bing.com", "duration": "1 year(s), 0 month(s), 25 day(s)", "expires_at": 1770030619 }, "cookie_id": "c119d620-58ec-48d9-979a-b2985379cdf3", "category": "MARKETING", "cookie_master_name": "MUID", "cookie_master_id": "25d5763e-c0cf-4612-a645-a5b6731456b7", "languages": { "en": { "language_id": "2b556ece-1527-490c-9992-fc94461424a3", "name": "MUID", "description": "Identifies unique web browsers visiting Microsoft sites. These cookies are used for advertising, site analytics, and other operational purposes." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 5 month(s), 28 day(s)", "expires_at": 1751886524 }, "cookie_id": "937fa23a-f460-4fd5-bf0b-93f17b160179", "category": "MARKETING", "cookie_master_name": "hubspotutk", "cookie_master_id": "76be9a08-378e-468a-98d0-11936ec0d390", "languages": { "en": { "language_id": "ea544b0d-e19b-4d7d-bda9-8c5d33b7c966", "name": "hubspotutk", "description": "This cookie keeps track of a visitor's identity. It is passed to HubSpot on form submission and used when deduplicating contacts." } } }, { "meta_data": { "domain": ".linkedin.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736420921 }, "cookie_id": "6ea038ba-4a94-41c7-a5e3-8a9703ed852a", "category": "MARKETING", "cookie_master_name": "lidc", "cookie_master_id": "02519753-1dc6-4fd5-be97-2f44779102c6", "languages": { "en": { "language_id": "436563d2-1671-4dbe-83c8-a33ab199677d", "name": "lidc", "description": "Used by the social networking service, LinkedIn, for tracking the use of embedded services." } } }, { "meta_data": { "domain": null, "duration": "0 year(s), 0 month(s), 31 day(s)", "expires_at": 1738964266 }, "cookie_id": "74cf114d-7dba-45a7-ab8d-90c991f0313e", "category": "MARKETING", "cookie_master_name": "ar_debug", "cookie_master_id": "936ab5cc-1621-4f60-9abe-e2792af0564a", "languages": { "en": { "language_id": "ed985971-53d9-46cf-8b51-8521d49975a6", "name": "ar_debug", "description": "Store and track conversions" } } }, { "meta_data": { "domain": "apicentral.idfy.com", "duration": "0 year(s), 0 month(s), 2 day(s)", "expires_at": 1736442527.180503 }, "cookie_id": "06e39c81-9983-41a7-aba6-02e18863c247", "category": "MARKETING", "cookie_master_name": "_self_serve_key", "cookie_master_id": "a69d9667-d52b-4304-8f18-eb28ce9ef83d", "languages": { "en": { "language_id": "c2dc4e7e-3b93-4f80-9ba0-c512b667da22", "name": "_self_serve_key", "description": "This cookie is associated with Crimtan, a digital advertising platform. It is used to track user actions on the website for targeted advertising purposes." } } }, { "meta_data": { "domain": ".youtube.com", "duration": "0 year(s), 5 month(s), 28 day(s)", "expires_at": 1751886617.747913 }, "cookie_id": "7ca6939e-d282-4abc-b25e-0ec6e54312c6", "category": "MARKETING", "cookie_master_name": "VISITOR_INFO1_LIVE", "cookie_master_id": "39eb7177-e579-46fa-a6cd-47208be8be65", "languages": { "en": { "language_id": "1229bec6-12cd-47b9-95e4-c762330053bd", "name": "VISITOR_INFO1_LIVE", "description": "Tries to estimate the users' bandwidth on pages with integrated YouTube videos. Also used for marketing" } } }, { "meta_data": { "domain": ".linkedin.com", "duration": "0 year(s), 2 month(s), 30 day(s)", "expires_at": 1744110520 }, "cookie_id": "9a474639-8c51-4e0d-b772-bc824f2ab02f", "category": "MARKETING", "cookie_master_name": "li_sugr", "cookie_master_id": "40cc6b69-7138-4169-9337-569904e35497", "languages": { "en": { "language_id": "ff7f8494-ede5-4fb5-8f32-9b479dce832a", "name": "li_sugr", "description": "Used to make a probabilistic match of a user's identity outside the Designated Countries" } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736336324 }, "cookie_id": "4ed67ea5-9a40-45ed-b993-970d77b27460", "category": "MARKETING", "cookie_master_name": "__hssc", "cookie_master_id": "f29d80c5-724e-4cc7-a3bd-94bce31887ce", "languages": { "en": { "language_id": "3fe2933d-ed9c-4642-b767-1bed73cd1978", "name": "__hssc", "description": "This cookie keeps track of sessions." } } }, { "meta_data": { "domain": "c.clarity.ms", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736335219 }, "cookie_id": "f79d5e09-0559-4d84-9063-cc35e960673e", "category": "MARKETING", "cookie_master_name": "ANONCHK", "cookie_master_id": "f6a12b87-312b-4841-a110-143b8638506f", "languages": { "en": { "language_id": "3b4fcbd8-1429-4fbf-a057-620b61810371", "name": "ANONCHK", "description": "Used to store session ID for a users session to ensure that clicks from adverts on the Bing search engine are verified for reporting purposes and for personalisation" } } }, { "meta_data": { "domain": "c.bing.com", "duration": "0 year(s), 0 month(s), 7 day(s)", "expires_at": 1736939419 }, "cookie_id": "dd9f8791-3397-4c0c-8f42-d03ca9f20865", "category": "MARKETING", "cookie_master_name": "MR", "cookie_master_id": "cb7fc1d1-2053-4fe6-ab31-42928e10cac5", "languages": { "en": { "language_id": "1904cbf7-b626-4f88-a252-dd91c79a33ae", "name": "MR", "description": "Used to collect information for analytics purposes." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 2 month(s), 30 day(s)", "expires_at": 1744110521 }, "cookie_id": "43061fdd-1848-4b1e-a28d-0e1ae90107b2", "category": "MARKETING", "cookie_master_name": "_gcl_au", "cookie_master_id": "49887eeb-91a3-4cb9-aa48-992f032390ad", "languages": { "en": { "language_id": "ef2cc88e-d2be-4fca-aadb-e6b3b463d860", "name": "_gcl_au", "description": "Used by Google AdSense for experimenting with advertisement efficiency across websites using their services." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 5 month(s), 28 day(s)", "expires_at": 1751886524 }, "cookie_id": "1a7d9366-c686-4a8c-9950-6fc9f3e11896", "category": "MARKETING", "cookie_master_name": "__hstc", "cookie_master_id": "38987fdd-0746-4f12-9d98-43efde0859bd", "languages": { "en": { "language_id": "9902587c-ce23-4e00-8c8b-2684a5ef4bcd", "name": "__hstc", "description": "The main cookie for tracking visitors." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "55 year(s), 0 month(s), 8 day(s)", "expires_at": -1 }, "cookie_id": "fcbbe8e7-166b-4c5c-9bde-651709f126b5", "category": "MARKETING", "cookie_master_name": "__hssrc", "cookie_master_id": "779b5212-4656-49d1-b908-16fc3fce8fa9", "languages": { "en": { "language_id": "c9d62bdb-fe3b-434c-9438-71bb13aadc22", "name": "__hssrc", "description": "Whenever HubSpot changes the session cookie, this cookie is also set to determine if the visitor has restarted their browser." } } }, { "meta_data": { "domain": ".linkedin.com", "duration": "0 year(s), 11 month(s), 31 day(s)", "expires_at": 1767870521 }, "cookie_id": "ec73ebdb-b342-4b1c-83ce-d032117fd1cd", "category": "MARKETING", "cookie_master_name": "bcookie", "cookie_master_id": "b55b701d-61cf-4560-a304-a35c5886d7a1", "languages": { "en": { "language_id": "61683aa7-1cad-4510-bda8-91a0efb88482", "name": "bcookie", "description": "Used by LinkedIn to track the use of embedded services." } } }], "ANALYTICS": [{ "meta_data": { "domain": ".idfy.com", "duration": "1 year(s), 1 month(s), 5 day(s)", "expires_at": 1770894521.602493 }, "cookie_id": "c5199cc0-384b-444e-b49b-7ef816e9be6d", "category": "ANALYTICS", "cookie_master_name": "_ga", "cookie_master_id": "5b2b1d33-206d-499c-a663-a91df7abe75f", "languages": { "en": { "language_id": "9f1513a8-0d58-4064-92a1-29f87a71028e", "name": "_ga", "description": "ID used to identify users" } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736421017 }, "cookie_id": "f74c350b-e060-4079-83b9-44a7ae6d6e8f", "category": "ANALYTICS", "cookie_master_name": "_clsk", "cookie_master_id": "3dd4907d-49c1-4fd4-b1ba-14e3c0d8d34c", "languages": { "en": { "language_id": "dd2645a6-214f-48d2-b391-6a39663f8586", "name": "_clsk", "description": "This cookie is installed by Microsoft Clarity to store information of how visitors use a website and help in creating an analytics report of how the website is doing. The data collected including the number visitors, the source where they have come from, and the pages visited in an anonymous form." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "1 year(s), 1 month(s), 5 day(s)", "expires_at": 1770894548.835326 }, "cookie_id": "a5801299-3a49-423b-be7c-a7133cb4fe18", "category": "ANALYTICS", "cookie_master_name": "_ga_QBNBN7VB0P", "cookie_master_id": "2c73e0b5-56ce-4cdb-a911-61765d1774b4", "languages": { "en": { "language_id": "e0fd6669-e54b-40fa-9271-e732a8fff042", "name": "_ga_QBNBN7VB0P", "description": "This cookie is used by Google Analytics to distinguish users." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736334581 }, "cookie_id": "94bd02c2-e762-4e53-a731-581aa585a6cf", "category": "ANALYTICS", "cookie_master_name": "_gat_gtag_UA_31536997_8", "cookie_master_id": "dc574aff-1342-45c3-87af-383361053e38", "languages": { "en": { "language_id": "55ab2f13-e7aa-4e7d-8083-747b28e0863a", "name": "_gat_gtag_UA_31536997_8", "description": "Used to throttle the request rate and control data collection by Google Analytics." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 11 month(s), 31 day(s)", "expires_at": 1767870543 }, "cookie_id": "ee628820-cf44-4ec0-8e44-e17ed6b15dd2", "category": "ANALYTICS", "cookie_master_name": "_clck", "cookie_master_id": "05173a9f-41fc-448e-b398-257b1872cf8b", "languages": { "en": { "language_id": "5e7bae28-cb3d-4115-b624-258a3c9eded0", "name": "_clck", "description": " This cookie is installed by Microsoft Clarity to store information of how visitors use a website and help in creating an analytics report of how the website is doing. The data collected including the number visitors, the source where they have come from, and the pages visited in an anonymous form." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 11 month(s), 31 day(s)", "expires_at": 1767870543 }, "cookie_id": "4cb82794-f809-48b6-9b66-f0765ce0ee70", "category": "ANALYTICS", "cookie_master_name": "amp_e56929", "cookie_master_id": "0eaa7683-717c-4957-9c42-be68b9525524", "languages": { "en": { "language_id": "ac8913d0-37e6-4296-8337-dd59db4bd88a", "name": "amp_e56929", "description": "This cookie is associated with the Google AMP project, which allows websites to load faster on mobile devices. It stores user session status." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "1 year(s), 1 month(s), 5 day(s)", "expires_at": 1770894548.831943 }, "cookie_id": "a0b43688-ea71-4f1d-9e61-c337ade31709", "category": "ANALYTICS", "cookie_master_name": "_ga_KZZGM6VSM6", "cookie_master_id": "73f39b92-1e06-42e1-9759-ec55b4dd026e", "languages": { "en": { "language_id": "59e49bf9-e5ad-45f2-8dcc-73b3196a0b12", "name": "_ga_KZZGM6VSM6", "description": "This cookie is used to distinguish unique users by assigning a randomly generated number as a client identifier. It is included in each page request in a site and used to calculate visitor, session and campaign data for the sites analytics reports." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736420921 }, "cookie_id": "091bfcd6-a094-4e34-a67b-40b77c3d6de6", "category": "ANALYTICS", "cookie_master_name": "_gid", "cookie_master_id": "982adb85-b893-4e78-9fda-eeecc1d7c1e8", "languages": { "en": { "language_id": "0921e278-677e-4323-809a-82479303879b", "name": "_gid", "description": "ID used to identify users for 24 hours after last activity" } } }, { "meta_data": { "domain": ".idfy.com", "duration": "1 year(s), 1 month(s), 5 day(s)", "expires_at": 1770894521.399922 }, "cookie_id": "bc658705-0987-412c-ab72-8df40ea8e600", "category": "ANALYTICS", "cookie_master_name": "_ga_FLWE815XLG", "cookie_master_id": "d062cede-b293-4015-8888-339b3f7a65c9", "languages": { "en": { "language_id": "db134645-3f13-474a-b06a-d613f89a809d", "name": "_ga_FLWE815XLG", "description": "Used by Google Analytics to distinguish users." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 11 month(s), 31 day(s)", "expires_at": 1767870543 }, "cookie_id": "b8290df9-d452-4235-87bb-6f11aa3893a4", "category": "ANALYTICS", "cookie_master_name": "amp_e56929_idfy.com", "cookie_master_id": "80691808-3088-405b-abf0-ed9841778046", "languages": { "en": { "language_id": "43ced51f-102e-41ab-8e18-8f936dc0ff4a", "name": "amp_e56929_idfy.com", "description": "This cookie is used to collect information on how visitors interact with websites that are built on Google AMP." } } }, { "meta_data": { "domain": "c.clarity.ms", "duration": "NaN year(s), NaN month(s), NaN day(s)", "expires_at": "NA" }, "cookie_id": "3816b333-0dd7-4059-8e5b-b2eed61427f8", "category": "ANALYTICS", "cookie_master_name": "SM", "cookie_master_id": "a34508aa-8586-4f95-b489-4168c4f84ec3", "languages": { "en": { "language_id": "5cbd1a42-ef72-4767-937d-6688962dfffa", "name": "SM", "description": "This is a Microsoft cookie which we use to measure the use of the website for internal analytics" } } }, { "meta_data": { "domain": null, "duration": "0 year(s), 11 month(s), 31 day(s)", "expires_at": 1767870594 }, "cookie_id": "0997cd69-dbe4-441a-aefc-f82ba8921e21", "category": "ANALYTICS", "cookie_master_name": "CLID", "cookie_master_id": "b818cfc9-bf1c-4704-b3ad-4655c8827b3f", "languages": { "en": { "language_id": "793a488c-a31d-4d1b-8c8b-575a9fbf4630", "name": "CLID", "description": "The cookie is set by embedded Microsoft Clarity scripts. The purpose of this cookie is for heatmap and session recording." } } }, { "meta_data": { "domain": ".idfy.com", "duration": "1 year(s), 1 month(s), 5 day(s)", "expires_at": 1770894521.250616 }, "cookie_id": "067a40d8-dc06-47af-90d3-a37e0281885f", "category": "ANALYTICS", "cookie_master_name": "_ga_SCYRND3JQS", "cookie_master_id": "8a391bb5-cc4a-45b7-9058-6a9602f26f61", "languages": { "en": { "language_id": "e8d4f6cb-3560-4f5d-8bb7-35f48a1e7868", "name": "_ga_SCYRND3JQS", "description": "This cookie is used to distinguish unique users by assigning a randomly generated number as a client identifier." } } }], "FUNCTIONAL": [{ "meta_data": { "domain": "learninghub.idfy.com", "duration": "55 year(s), 0 month(s), 8 day(s)", "expires_at": -1 }, "cookie_id": "5c48027f-872d-4299-b381-e44b4ac51542", "category": "FUNCTIONAL", "cookie_master_name": "org.springframework.web.servlet.i18n.CookieLocaleResolver.LOCALE", "cookie_master_id": "ffad0af0-ebb7-4f4f-ab22-9e87a3a02e7a", "languages": { "en": { "language_id": "81626aee-d076-46f5-a770-617cba7dc19c", "name": "org.springframework.web.servlet.i18n.CookieLocaleResolver.LOCALE", "description": "Used by the Spring Framework's CookieLocaleResolver to remember the user's selected locale/language preference." } } }, { "meta_data": { "domain": ".doubleclick.net", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736335422 }, "cookie_id": "67e6e46f-4401-45bc-be77-29b360d6479d", "category": "FUNCTIONAL", "cookie_master_name": "test_cookie", "cookie_master_id": "7eefc84f-adb4-400f-a9aa-5e28229ecb56", "languages": { "en": { "language_id": "76f05f69-12a7-47dd-80e4-e3019915431d", "name": "test_cookie", "description": "This cookie is set by DoubleClick (which is owned by Google) to determine if the website visitor's browser supports cookies." } } }, { "meta_data": { "domain": ".youtube.com", "duration": "55 year(s), 0 month(s), 8 day(s)", "expires_at": -1 }, "cookie_id": "71c35021-6ef2-4881-aeb1-4af9ba99f74d", "category": "FUNCTIONAL", "cookie_master_name": "YSC", "cookie_master_id": "899fa840-d0bd-461b-b64a-7f61cfb5c80b", "languages": { "en": { "language_id": "0b9b667c-263c-43fb-9081-c24a3fa98743", "name": "YSC", "description": "Registers a unique ID to keep statistics of what videos from YouTube the user has seen." } } }, { "meta_data": { "domain": null, "duration": "0 year(s), 5 month(s), 28 day(s)", "expires_at": 1751886569 }, "cookie_id": "3cdc19c4-c901-40bc-adcd-245599bee681", "category": "FUNCTIONAL", "cookie_master_name": "_GRECAPTCHA", "cookie_master_id": "273b092b-3669-4c32-8b57-69382cee8e83", "languages": { "en": { "language_id": "112b497c-731a-4704-9ee4-f5663c0e43ba", "name": "_GRECAPTCHA", "description": "Google reCAPTCHA sets a necessary cookie (_GRECAPTCHA) when executed for the purpose of providing its risk analysis." } } }, { "meta_data": { "domain": ".hubspot.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736336325 }, "cookie_id": "f542bb3d-3027-4a4d-b61e-4645af3f59ea", "category": "FUNCTIONAL", "cookie_master_name": "__cf_bm", "cookie_master_id": "0016250a-c039-4b56-abd8-3084b8dcaef9", "languages": { "en": { "language_id": "d60836a4-8a13-4637-880b-1ccf32f42f18", "name": "__cf_bm", "description": "Cloudflare's bot products identify and mitigate automated traffic to protect your site from bad bots. Cloudflare places the __cf_bm cookie on End User devices that access Customer sites that are protected by Bot Management or Bot Fight Mode. The __cf_bm cookie is necessary for the proper functioning of these bot solutions." } } }, { "meta_data": { "domain": "c.bing.com", "duration": "1 year(s), 0 month(s), 25 day(s)", "expires_at": 1770030619 }, "cookie_id": "dff936ab-6cbd-432f-8452-042229263abc", "category": "FUNCTIONAL", "cookie_master_name": "SRM_B", "cookie_master_id": "8466a439-d100-40dc-9d93-647f813688be", "languages": { "en": { "language_id": "d7824447-a60d-4b5b-81e7-1847f8f80bef", "name": "SRM_B", "description": "Collected user data is specifically adapted to the user or device. The usercan also be followed outside of the loaded website, creating a picture of the visitor's behavior." } } }, { "meta_data": { "domain": ".hubspot.com", "duration": "NaN year(s), NaN month(s), NaN day(s)", "expires_at": "NA" }, "cookie_id": "f3318133-1b9d-417e-a521-990928a46b4c", "category": "FUNCTIONAL", "cookie_master_name": "_cfuvid", "cookie_master_id": "914cd642-2721-409a-ad38-60f950811077", "languages": { "en": { "language_id": "aa7106fd-8f9d-409b-9b70-44310c939fe7", "name": "_cfuvid", "description": "The _cfuvid cookie is only set when a site uses this option in a Rate Limiting Rule, and is only used to allow the Cloudflare WAF to distinguish individual users who share the same IP address." } } }], "PERFORMANCE": [{ "meta_data": { "domain": ".idfy.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736334581 }, "cookie_id": "618f5b46-7c36-4ad9-b176-d4013d02dfa4", "category": "PERFORMANCE", "cookie_master_name": "_gat_UA-31536997-8", "cookie_master_id": "ff1ad203-d01f-45f8-8447-423992f2ca0c", "languages": { "en": { "language_id": "703700d1-76fc-4d3e-877b-25ce3f9c2ead", "name": "_gat_UA-31536997-8", "description": "Used by Google Analytics to throttle the request rate - limiting the collection of data on high traffic sites." } } }], "NECESSARY": [{ "meta_data": { "domain": "portal.idfy.com", "duration": "0 year(s), 0 month(s), 1 day(s)", "expires_at": 1736337227.177234 }, "cookie_id": "77ff56f5-d80a-43e4-be8f-8819d80caaca", "category": "NECESSARY", "cookie_master_name": "_idfy_session", "cookie_master_id": "c036f347-2366-4843-9fb5-268c42d7aa4f", "languages": { "en": { "language_id": "dca2d79e-7186-4fa9-9c46-569f27cfc12c", "name": "_idfy_session", "description": "Preserves the user's session state across page requests." } } }, { "meta_data": { "domain": ".youtube.com", "duration": "0 year(s), 5 month(s), 28 day(s)", "expires_at": 1751886566.051435 }, "cookie_id": "c58d274f-36fb-4e7f-a692-587348f0a01f", "category": "NECESSARY", "cookie_master_name": "__Secure-ROLLOUT_TOKEN", "cookie_master_id": "6feab1da-9126-416f-98ed-2f2937fa661c", "languages": { "en": { "language_id": "16613ca8-7226-46f7-a904-eb4a29b0d435", "name": "__Secure-ROLLOUT_TOKEN", "description": "This cookie is set by the Optimize service provided by Google to enable website owners to track visitor behavior and measure site performance." } } }, { "meta_data": { "domain": "learninghub.idfy.com", "duration": "1 year(s), 1 month(s), 5 day(s)", "expires_at": 1770894528.441923 }, "cookie_id": "c441a7b8-77f0-41b0-9745-bc262737788e", "category": "NECESSARY", "cookie_master_name": "id", "cookie_master_id": "91321d09-e3d9-4532-a1c8-dbfee011c31b", "languages": { "en": { "language_id": "4928f81d-3b32-482c-a795-a51a85bf581a", "name": "id", "description": "Used for user authentication and session management." } } }, { "meta_data": { "domain": "learninghub.idfy.com", "duration": "55 year(s), 0 month(s), 8 day(s)", "expires_at": -1 }, "cookie_id": "fbda6cd2-4837-4689-96e3-9262ad698c8d", "category": "NECESSARY", "cookie_master_name": "SESSIONID", "cookie_master_id": "15a9e668-8a3e-4a0a-bdcf-17ed4e8a029f", "languages": { "en": { "language_id": "456d6b76-48cd-4332-bdcf-9c6dd73a0b8b", "name": "SESSIONID", "description": "Used to identify your current session on a website, typically used for authentication purposes." } } }] };

function getCookieValue(name) {
    const cookies = document.cookie.split('; ');
    const cookie = cookies.find(cookie => cookie.startsWith(`${name}=`));
    return cookie ? cookie.split('=')[1] : null;
}

function toggleBanner(action) {
    if (action === 'show') {
        document.getElementById('banner-home').style.display = '';
    }
    else if (action === 'hide') {
        document.getElementById("customize-screen-AE1VSVI8T5").style.display = 'none';
        document.getElementById('banner-home').style.display = 'none';
    }
}

const categoryDescriptions = {
    necessary: "Essential cookies are crucial for the delivery of services, applications, or resources you request. They enable the website to function properly by managing actions such as loading visual elements, accessing resources, or user sign-ins and sign-outs. Essential cookies also ensure the service's security and efficiency by enabling features like authentication and load balancing.",
    marketing: "Our advertising partners deploy these cookies to tailor advertising to your interests, based on your browsing behavior and preferences. They track your online activity to build a profile for customized advertising, ensuring the ads you encounter on other sites are aligned with your interests.",
    analytics: "Analytics cookies are used to gather information on website usage, helping us understand visitor behavior. They track user interactions, providing insights that enable us to enhance the website's user experience and functionality. These cookies do not identify you personally but offer aggregated data to improve site performance.",
    performance: "These cookies collect data on how visitors interact with our website, allowing us to measure and improve our site's and software's effectiveness. They help us track visits and traffic sources, optimizing our website's performance. Without these cookies, we lose the ability to monitor our site's engagement and enhance user experience.",
    functional: "Set by us or third-party providers, functional cookies add extra features and enhance our website's functionality not directly necessary for the service you've requested. They enable convenience features such as pre-filled text fields, live chat support, and optional forms, improving your browsing experience with services like single sign-on (SSO).",
    others: "These cookies do not fall into standard categories but serve various purposes. They may enhance specific website features or support experimental or temporary services, and are typically associated with minor functions or specialized needs. Without these, the website's core functionality remains unaffected, but certain experiences or experiments may be impacted."
}
function createBanner(categorizedCookies, template) {
    let banner = `
    <div class="idfy-${template.bannerType}-AE1VSVI8T5" id="banner-home">
        <div class="banner-content-AE1VSVI8T5">
            <h2 class="banner-heading-AE1VSVI8T5">Cookie Notice</h2>
            <div class="${template.bannerType}-inner-AE1VSVI8T5">
                <p class="description-AE1VSVI8T5 ${template.bannerType}-desc-AE1VSVI8T5" >${template.contentDesktop.cookieBannerNotice}</p>
                <div class="${template.bannerType}-button-container-AE1VSVI8T5">
                    <button onclick="submitConsent('all')" id="allow-btn-AE1VSVI8T5" class="${template.bannerType}-button-AE1VSVI8T5">${template.buttonsText.acceptAll}</button>
                    <button onclick="submitConsent('necessary')" class="${template.bannerType}-button-AE1VSVI8T5">${template.buttonsText.allowNecessary}</button>
                    <button id="customize-btn-AE1VSVI8T5" class="${template.bannerType}-button-AE1VSVI8T5">${template.buttonsText.moreSettings}</button>
                </div>
            </div>
        </div>
        <div class="powered-AE1VSVI8T5" style="border-radius:0px 0px 10px 10px;">
        Powered by <span><a href="https://www.privyone.com/" target="_blank">PRIVY</a></span>
        </div>
    </div>

    <div id="customize-screen-AE1VSVI8T5">
        <div class="customize-settings-screen-AE1VSVI8T5">
            <div>
                <div class="close-btn-AE1VSVI8T5">
                    <button class="close-button-AE1VSVI8T5">×</button>
                </div>
                <div class="content-AE1VSVI8T5">
                    <h2 class="box-heading-AE1VSVI8T5">About cookies on this site.</h2>
                    <p class="box-description-AE1VSVI8T5">${template.contentDesktop.preferenceManagerNotice}</p>
                    <div class="categories-AE1VSVI8T5">
                    ${Object.keys(categorizedCookies).map(category => {
        const cookieData = categorizedCookies[category];
        const isNecessary = category.toLowerCase() === 'necessary';
        const disabledClass = isNecessary ? 'disabled' : '';
        return `
                        <div class="category-AE1VSVI8T5">
                            <div class="category-header-AE1VSVI8T5">
                                <div onclick="showDropdown('${category}')" style="cursor:pointer">
                                    <button class="dropdown-arrow-AE1VSVI8T5 rotated-AE1VSVI8T5 dropdown-arrow-${category}">^</button>
                                    <label for="${category}">${category.charAt(0).toUpperCase() + category.slice(1)} Cookies</label>
                                </div>
                                <input type="checkbox" id="${category}-toggle" class="toggle-switch-AE1VSVI8T5" ${isNecessary ? 'checked disabled' : ''} ${disabledClass}>
                                <label for="${category}-toggle" class="toggle-label-AE1VSVI8T5 ${disabledClass}"></label>
                            </div>
                            <div id="dropdown-${category}" class="dropdown-content-AE1VSVI8T5">
                                <div class="category-description-AE1VSVI8T5">
                                    ${categoryDescriptions[category]}
                                </div>
                                <div onclick="viewCookies('${category}')" id="view-cookies-${category}" class="view-cookies-AE1VSVI8T5">View Cookies</div>
                            </div>
                            <div class="show-cookies-AE1VSVI8T5 show-cookies-AE1VSVI8T5-${category}">
                                <div id="all-cookies-AE1VSVI8T5-${category}" class="all-cookies-AE1VSVI8T5">
                                    ${cookieData.map(cookie => `
                                    <div class="cookie-AE1VSVI8T5">
                                        <p class="cookie-name-AE1VSVI8T5"><span> Name </span>: ${cookie.cookie_master_name}</p>
                                        <p class="platform-AE1VSVI8T5"><span>Platform </span>: ${cookie.meta_data.platform}</p>
                                    </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        `;
    }).join('')}
                    </div>
                </div>
            </div>

            <div class="bottom-panel-AE1VSVI8T5">
                <div class="preference-button-AE1VSVI8T5">
                    <button onclick="submitConsent('preference')" class="button1-AE1VSVI8T5">${template.buttonsText.savePreferences}</button>
                    <button onclick="submitConsent('necessary')" class="button2-AE1VSVI8T5">${template.buttonsText.allowNecessary}</button>
                </div>
                <div class="powered-AE1VSVI8T5">
                    Powered by <span><a href="https://www.privyone.com/" target="_blank">PRIVY</a></span>
                </div>
            </div>
        </div>
    </div>
    `;

    return banner;
}


function submitConsent(agreedCategories) {
    const agreedCookies = [];
    const cookieConsent = JSON.parse(getCookieValue('privyConsent'));

    if (agreedCategories === 'all') {
        console.log('agreed cat all', agreedCategories);
        Object.keys(cookieConsent).forEach(key => cookieConsent[key] = true);
    } else if (agreedCategories === 'necessary') {
        console.log('agreed cat', agreedCategories);
        Object.keys(cookieConsent).forEach(key => cookieConsent[key] = key === 'necessary');
    } else if (agreedCategories === 'preference') {
        const checkedBoxes = document.querySelectorAll('input[type="checkbox"]:checked');
        checkedBoxes.forEach(box => {
            const categoryName = box.id.replace('-toggle', '');
            agreedCookies.push(categoryName);
            cookieConsent[categoryName] = true;
        });
        Object.keys(cookieConsent).forEach(key => cookieConsent[key] = agreedCookies.includes(key));
    }

    cookieConsent.update = true;
    toggleBanner('hide');
    document.cookie = `privyConsent=${JSON.stringify(cookieConsent)}; path=/`;
    localStorage.setItem("privyConsent", JSON.stringify(cookieConsent));

    fetch(`https://moral-capital-bison.ngrok-free.app/ext/cookie-banner/d564c8ed-234e-491d-bdb3-bcae4a8064d3/3b53ea49-0413-452b-bf50-18e3bac64629`, {
        method: "POST",
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ user_preference: cookieConsent })
    })
        .then(response => {
            console.log("submit response", response);
            if (!response.ok) {
                throw new Error('Failed to submit consent');
            }
            return response.json();
        })
        .catch(error => {
            console.error('Error submitting consent:', error);
        });

    location.reload();
}


function blockIframe() {
    const iframeElements = document.querySelectorAll('iframe');
    iframeElements.forEach(iframe => {
        const src = iframe.getAttribute('src');
        if (src) {
            iframe.setAttribute('data-src', src);
            iframe.removeAttribute('src');
        }
    });
}

function blockScript() {
    const scriptElements = document.querySelectorAll('script');

    scriptElements.forEach(script => {
        if (!script.hasAttribute('type')) {
            script.setAttribute('type', 'text/plain');
        } else {
            script.setAttribute('type', 'text/plain');
            console.log(script.outerHTML);
        }
    });
}

window.onload = () => {
    const categories = Object.keys(categorizedCookies);

    let consentCookie = JSON.parse(getCookieValue('privyConsent'));
    if (!consentCookie) {
        let cookie = {};
        for (let key of categories) {
            if (key === 'necessary') {
                cookie[key] = true;
            } else {
                cookie[key] = false;
            }
        }
        cookie.update = false;
        document.cookie = `privyConsent=${JSON.stringify(cookie)}; path=/`;
        localStorage.setItem("privyConsent", JSON.stringify(cookie));
        location.reload();
    }
    consentCookie = JSON.parse(getCookieValue('privyConsent'));

    let consentButtonDiv = document.createElement('div');
    consentButtonDiv.className = "consent-button-AE1VSVI8T5";
    document.body.appendChild(consentButtonDiv);

    const banner = createBanner(categorizedCookies, template, consentCookie);
    const bannerContainer = document.createElement('div');
    bannerContainer.className = "banner-container-AE1VSVI8T5";
    bannerContainer.innerHTML = banner;
    document.body.appendChild(bannerContainer);

    let horizontal = "flex-end", leftRight = "right", vertical = "bottom";

    if (template.positionDesktop.includes("left")) {
        horizontal = "flex-start";
        leftRight = "left";
    }
    if (template.positionDesktop.includes("top")) {
        vertical = "top";
    }

    const styleTag = document.createElement("style");
    styleTag.innerHTML = `
          .banner-container-AE1VSVI8T5{
            margin: 5px;
          }
          
          @keyframes glideBanner {
            0% {
              transform: translateY(100%);
            }
            100% {
              transform: translateY(0%);
            }
          }
  
          .idfy-box-AE1VSVI8T5 {
              display: flex;
              flex-direction:column;
              background-color: white;
              justify-content: ${horizontal};
              position: fixed;
              ${vertical}: 20px;
              ${leftRight}: 10px;
              width: 53%;
              max-width: 70em;
              border-radius: 10px;
              font-family: ${template.fontName} !important;
              -webkit-font-smoothing: antialiased;
              z-index: 2147483647 !important; 
              box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
              animation: glideBanner 1.5s ease-in-out forwards;
          }
  
          .idfy-banner-AE1VSVI8T5 {
            display: flex;
            flex-direction:column;
            background-color: white;
            justify-content: flex-end;
            position: fixed;
            ${vertical}: 0px;
            right: 0px;
            left: 0px;
            width: 100%;
            border-radius: 10px;
            font-family: ${template.fontName} !important;
            -webkit-font-smoothing: antialiased;
            z-index: 2147483647 !important; 
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
            animation: glideBanner 1.5s ease-in-out forwards;
          }
  
        //   .idfy-box-AE1VSVI8T5 {
        //     display: flex;
        //     flex-direction:column;
        //     background-color: white;
        //     justify-content: flex-end;
        //     position: fixed;
        //     ${vertical}: 30px; 
        //     ${leftRight}: 10px;
        //     width: 25%;
        //     min-width:325px; 
        //     border-radius: 10px;
        //     font-family: ${template.fontName} !important;
        //     -webkit-font-smoothing: antialiased;
        //     z-index: 2147483647 !important; 
        //     box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
        //     animation: glideBanner 1.5s ease-in-out forwards;
        //   }
  
          .banner-content-AE1VSVI8T5 {
            overflow-y:auto;
            padding: 20px !important;
            transition: 2s;
          }
  
          .banner-heading-AE1VSVI8T5 {
            font-size: 18px !important;
            margin: 0px !important;
            font-weight:bold !important;
            line-height:1 !important;
            padding:0px !important;
            color:#000000 !important;
          }
  
          .banner-inner-AE1VSVI8T5 {
            display: flex !important;
            align-items: center !important;
          }
   
          .description-AE1VSVI8T5 {
              font-size: 14px !important;
              color: #484E56;
              line-height: 1.3 !important;
              margin:14px 0px 14px 0px !important;
              padding:0px!important;
              color:#484E56 !important;
          }
  
          .banner-desc-AE1VSVI8T5{
            flex:7 !important;
            margin:10px 10px 10px 0px !important;
            font-weight:normal !important;
          }
  
          .banner-button-container-AE1VSVI8T5,.box-button-container-AE1VSVI8T5 {
              text-align: right!important;
              margin-top: 10px!important;
          }
  
        //   .box-button-container-AE1VSVI8T5{
        //     font-size: 14px!important;
        //     text-align: center!important;
        //   }
  
          .box-button-AE1VSVI8T5,.banner-button-AE1VSVI8T5{
              margin-right: 2.5px !important;
              color: ${template.buttonColor} !important;
              padding: 9px 20px !important;
              border: 1px solid ${template.buttonColor} !important;
              border-radius: 8px !important;
              background: white !important;
              display:inline-block !important;
              line-height: 1!important;
              font-weight: Normal!important;
              font-size: 12px !important;
              font-family: ${template.fontName} !important;
              -webkit-font-smoothing: antialiased;
          }

  
          #allow-btn-AE1VSVI8T5 {
              background-color:${template.buttonColor} !important;
              color: ${template.buttonTextColor}!important;
              border: 1px solid ${template.buttonColor}!important;
          }
  
          /* custmise banner screen css */
          #customize-screen-AE1VSVI8T5 {
              display: none;
          }
  
          .customize-settings-screen-AE1VSVI8T5 {
              width: 40%;
              height: 80%;
              min-width: 290px;
              max-width: 370px ;
              background-color: white;
              box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
              position: fixed;
              z-index: 2147483647 !important;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              font-family: ${template.fontName};
              -webkit-font-smoothing: antialiased;
              overflow: scroll;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
              border-radius: 5px;
          }
  
          .content-AE1VSVI8T5 {
              padding: 20px;
  
          }
  
          .close-btn-AE1VSVI8T5 {
              display: flex;
              justify-content: end;
              border-bottom: 0.5px solid #B2B5B8;
              padding: 10px; 
              position: sticky;
              top: 0;
              background-color: #fff;
              z-index:2147483647 !important;
          }
  
          .close-button-AE1VSVI8T5 {
              color: #7D8187 !important;
              margin: 0px 10px !important;
              font-size: 20px !important;
              background-color: transparent !important;
              border: none !important;
              cursor: pointer;
              display:inline-block !important;
              padding: 0 !important;
          }
  
          .box-heading-AE1VSVI8T5 {
              font-size: 18px !important;
              margin: 0px !important;
              color: #131A25 !important;
              font-weight:bold !important;
              line-height:1 !important;
              padding:0px !important;
          }
  
          .box-description-AE1VSVI8T5 {
              font-size: 14px !important;
              margin: 14px 0px!important;
              color: #484E56 !important;
              line-height: 1.35 !important;
              padding: 0px !important;
          }
  
          .categories-AE1VSVI8T5 {
              margin-top: 25px;
              display: flex;
              flex-direction: column;
          }
  
          .category-AE1VSVI8T5 {
              margin-bottom: 10px;
          }
  
          .category-header-AE1VSVI8T5 {
              display: flex;
              align-items: center;
              justify-content: space-between;
              border: 1px solid #B2B5B8;
              border-radius: 10px;
              padding: 10px;
              background-color: #FAFAFB;
          }
  
          .category-AE1VSVI8T5 label {
              font-size: 14px !important;
              line-height:1 !important;
              margin: 0px !important;
              padding: 0px !important;
              color: #000000 !important;
              display: inline !important;
              font-weight: 400 !important;
          }
  
          .toggle-switch-AE1VSVI8T5 {
              display: none !important;
          }
  
          .toggle-label-AE1VSVI8T5 {
              display: inline-block !important;
              width: 40px !important;
              height: 20px !important;
              background-color: #ccc;
              border-radius: 10px;
              position: relative !important;
              cursor: pointer;
          }
  
          .toggle-label-AE1VSVI8T5::after {
              content: '';
              width: 18px;
              height: 18px;
              background-color: white;
              border-radius: 50%;
              position: absolute !important;
              top: 1px;
              left: 1px;
              transition: 0.3s;
          }
  
          .toggle-switch-AE1VSVI8T5:checked+.toggle-label-AE1VSVI8T5 {
              background-color: #1C43B9;
          }
  
          .toggle-switch-AE1VSVI8T5:checked+.toggle-label-AE1VSVI8T5::after {
              transform: translateX(20px);
          }
  
          .toggle-label-AE1VSVI8T5.disabled {
            background-color: #ccc; 
            opacity: 0.7; 
            cursor: not-allowed; 
        }
        
        .toggle-label-AE1VSVI8T5.disabled::after {
            background-color: #fff; 
        }
  
          .dropdown-arrow-AE1VSVI8T5 {
              margin-right: 10px !important;
              transform: scale(2.5, 2) translate(0, 2px);
              background-color: transparent !important;
              border: none !important;
              align-items: baseline;
              font-family: 'Courier New', Courier, monospace !important;
              transition: transform 0.3s ease !important;
              display:inline-block !important;
              line-height: 1!important;
              font-weight: 100!important;
              padding: 1px 6px !important;
              font-size:13.3px !important;
              color: #000000 !important;
          }
  
          .rotated-AE1VSVI8T5 {
              transform: scale(2.5, 2) translate(0, -3px) rotate(180deg);
              transition: transform 0.3s ease;
          }
  
          .dropdown-content-AE1VSVI8T5 {
              display: none;
              background-color: #F3F3F4;
              box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
              border-radius: 0 0 10px 10px;
              padding: 20px;
          }
  
          .category-description-AE1VSVI8T5 {
              font-size: 11px !important;
              color: #131A25 !important;
              line-height: 15px !important;
              margin:0px !important;
              padding: 0px !important;
          }
  
          .view-cookies-AE1VSVI8T5 {
              font-size: 11px !important;
              color: #214698 !important;
              margin-top: 10px !important;
              cursor: pointer;
          }
  
          .show-cookies-AE1VSVI8T5 {
            max-height: 170px !important;
            overflow: scroll !important;
          }
          .show-cookies-AE1VSVI8T5::-webkit-scrollbar {
            display: none;
          }
  
          .all-cookies-AE1VSVI8T5 {
              display: none;
              background-color: #F3F3F4;
              box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
              border-radius: 0 0 10px 10px;
              padding: 2px 10px 9px 10px;
              color: #131A25;
              font-size: 11px;
          }
  
          .cookie-AE1VSVI8T5 {
              font-size: 11px !important;
              background-color: #E2E2E2;
              padding: 8px 18px !important;
              margin-top: 6px !important;
              border-radius: 12px;
              overflow: scroll;
          }
          .cookie-AE1VSVI8T5::-webkit-scrollbar {
            display: none;
          }
  
          .cookie-name-AE1VSVI8T5,
          .platform-AE1VSVI8T5 {
              margin: 2px 0px !important;
              font-size: 11px !important;
              line-height: 1 !important;
              color: #131A25 !important;
              padding: 0px !important;
          }
  
          .bottom-panel-AE1VSVI8T5 {
              position: sticky;
              bottom: 0;
              width: 100%;
          }
  
          .preference-button-AE1VSVI8T5 {
              border-top: 0.5px solid #B2B5B8;
              padding: 10px;
              text-align: center;
              background-color: #fff;
              display:flex;
              justify-content: space-around;
              flex-direction:row;
          }
  
          .preference-button-AE1VSVI8T5 button {
              padding: 10px 18px !important;
              // width:45% !important;
              font-size: 12px !important;
              border-radius: 8px !important;
              margin: 3px !important;
              // display:inline-block !important;
              line-height: 1!important;
              font-weight: Normal!important;
              font-family: ${template.fontName} !important;
              -webkit-font-smoothing: antialiased;
          }
  
  
  
          .button1-AE1VSVI8T5 {
              color: ${template.butonTextColor} !important;
              border: 1px solid ${template.buttonColor} !important;
              background-color: ${template.buttonColor};
              transition: 0.3s;
              flex:1;
          }
  
          .button2-AE1VSVI8T5 {
              color: ${template.buttonColor} !important;
              border: 1px solid ${template.buttonColor} !important;
              background-color: #fff;
              transition: 0.3s;
              flex:1;
          }
  
          .button2-AE1VSVI8T5:hover,
          .button1-AE1VSVI8T5:hover,
          .classic-button-AE1VSVI8T5:hover,.banner-button-AE1VSVI8T5:hover,.box-button-AE1VSVI8T5:hover,#allow-btn-AE1VSVI8T5:hover {
              background-color: ${template.hoverButtonColor} !important;
              color: ${template.hoverTextColor} !important;
              transition: 0.3s;
              border: 1px solid ${template.hoverButtonColor} !important;
          }
  
          .powered-AE1VSVI8T5 {
              text-align: right;
              background-color: #F3F3F4;
              font-size: 10px !important;
              padding: 1px 10px !important;
              margin:0px !important;
              color: #7D8187 !important;
              font-weight:normal !important;
              line-height:1 !important;
          }
  
          .powered-AE1VSVI8T5 a {
              color: #1C43B9 !important;
              font-weight: bold !important;
              text-decoration:none !important;
              font-size: 10px!important;
              line-height:1 !important;
            } 
  
          @media (max-width: 900px) {
            .box-button-container-AE1VSVI8T5{
              text-align: center!important;
            }
            .box-button-AE1VSVI8T5 {
              width: 100%;
              height: 100%;
              font-size: 15px !important;
              padding: 13px 22px !important;
              display:block !important;
            }
  
            .banner-inner-AE1VSVI8T5 {
              display: block !important;
              align-items: right !important;
            }
          }
  
  
          @media (max-width: 480px) {
            .idfy-banner-AE1VSVI8T5,
            .idfy-box-AE1VSVI8T5{
              bottom: 0;
              right: 0;
              left:0;
              width: 100%;
              max-height:80%;
              overflow:scroll;
            }
  
            .banner-button-AE1VSVI8T5{
                  width: 100%;
                  height: 100%;
                  font-size: 15px !important;
                  padding: 13px 22px !important;
                  display:block !important;
                }
  
            .customize-settings-screen-AE1VSVI8T5 {
              height:85vh;
              width:90vw;
              max-width:480px;
              padding:0;
              margin:0;
            }
  
            .preference-button-AE1VSVI8T5 button{
              padding: 13px 22px !important;
              font-size: 15px !important;
            }
  
          }
  
          @media (max-width: 850px){
            .preference-button-AE1VSVI8T5{
              flex-direction:column;
            }
          }
            
            `
    document.head.appendChild(styleTag);

    const scriptTag = document.createElement("script");
    scriptTag.innerHTML = `
          const closeButton = document.querySelector(".close-btn-AE1VSVI8T5")
          closeButton.addEventListener('click', function () {
              const customizeScreen = document.getElementById("customize-screen-AE1VSVI8T5")
              customizeScreen.style.display = "none"
      
              const bannerHome = document.getElementById("banner-home")
              bannerHome.style.display = ""
          })
      
          const customizeButton = document.getElementById("customize-btn-AE1VSVI8T5")
          customizeButton.addEventListener('click', function () {
              const customizeScreen = document.getElementById("customize-screen-AE1VSVI8T5")
              customizeScreen.style.display = "block";
      
              const bannerHome = document.getElementById("banner-home")
              bannerHome.style.display = "none" 
      
          })
      
          function showDropdown(category) {
            const dropdown = document.getElementById('dropdown-' + category);
            const allCookies = document.getElementById('all-cookies-AE1VSVI8T5-' + category);
            const dropIcon = document.querySelector('.dropdown-arrow-' + category);
            if (dropdown.style.display === "block" || allCookies.style.display === "block") {
                dropdown.style.display = "none";
                allCookies.style.display = "none";
                dropIcon.classList.add('rotated-AE1VSVI8T5');
            } else {
                dropdown.style.display = "block";
                dropIcon.classList.remove('rotated-AE1VSVI8T5');
            }
        }
      
           function viewCookies(category) {
            const allCookies = document.getElementById('all-cookies-AE1VSVI8T5-' + category);
            allCookies.style.display = "block";
    
            const dropdown = document.getElementById('dropdown-' + category);
            dropdown.style.display = "none";
            }`
    document.head.appendChild(scriptTag);

    if (consentCookie.update === false) {
        toggleBanner('show');
    } else {
        toggleBanner('hide');
    }
  
}

    // List of domains to block
    const domainsToBlock = ["linkedin.com", "facebook.com", "twitter.com", "hubspot.net", "hubspot.com"];
    // Intercept and block network requests using Fetch API override
    (function () {
        const originalFetch = window.fetch;
        
        // Override the Fetch API
        window.fetch = async (...args) => {
          const url = args[0];
          console.log("urls here", url);
          if (domainsToBlock.some(domain => url.includes(domain))) {
            console.warn(`Blocked request to ${url}`);
            return Promise.reject(new Error(`Blocked request to ${url}`));
          }
          return originalFetch(...args);
        };
      
        // Intercept XMLHttpRequest
        const originalXHR = window.XMLHttpRequest;
        window.XMLHttpRequest = class extends originalXHR {
          open(method, url, ...rest) {
            console.log("XML url", url);
            if (domainsToBlock.some(domain => url.includes(domain))) {
              console.warn(`Blocked XMLHttpRequest to ${url}`);
              return; // Skip sending the request
            }
            super.open(method, url, ...rest);
          }
        };
      
        console.log(`Blocking rules applied for domains: ${domainsToBlock.join(", ")}`);
      })();

    // (function () {
    //     const originalCookieSetter = Object.getOwnPropertyDescriptor(Document.prototype, 'cookie').set;
      
    //     Object.defineProperty(document, 'cookie', {
    //       set(value) {
    //         if (domainsToBlock.some(domain => value.includes(domain))) {
    //           console.warn(`Blocked cookie from being set: ${value}`);
    //           return; // Block the cookie
    //         }
    //         originalCookieSetter.call(document, value);
    //       },
    //     });
      
    //     console.log(`Cookie blocking applied for domains: ${domainsToBlock.join(", ")}`);
    //   })();
      
